<html><head><title>newts: Home</title><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="com.github.julien-truffaut" /><meta name="description" content="Newtypes for cats" /><meta name="og:image" content="/newts/img/poster.png" /><meta name="og:title" content="newts: Home" /><meta name="og:site_name" content="newts" /><meta name="og:url" content="http://julien-truffaut.github.io/newts" /><meta name="og:type" content="website" /><meta name="og:description" content="Newtypes for cats" /><link rel="icon" type="image/png" href="/newts/img/favicon.png" /><meta name="twitter:title" content="newts: Home" /><meta name="twitter:image" content="http://julien-truffaut.github.io/newtsimg/poster.png" /><meta name="twitter:description" content="Newtypes for cats" /><meta name="twitter:card" content="summary_large_image" /><link rel="icon" type="image/png" sizes="16x16" href="/newts/img/favicon16x16.png" /><link rel="icon" type="image/png" sizes="24x24" href="/newts/img/favicon24x24.png" /><link rel="icon" type="image/png" sizes="32x32" href="/newts/img/favicon32x32.png" /><link rel="icon" type="image/png" sizes="48x48" href="/newts/img/favicon48x48.png" /><link rel="icon" type="image/png" sizes="57x57" href="/newts/img/favicon57x57.png" /><link rel="icon" type="image/png" sizes="60x60" href="/newts/img/favicon60x60.png" /><link rel="icon" type="image/png" sizes="64x64" href="/newts/img/favicon64x64.png" /><link rel="icon" type="image/png" sizes="70x70" href="/newts/img/favicon70x70.png" /><link rel="icon" type="image/png" sizes="72x72" href="/newts/img/favicon72x72.png" /><link rel="icon" type="image/png" sizes="76x76" href="/newts/img/favicon76x76.png" /><link rel="icon" type="image/png" sizes="96x96" href="/newts/img/favicon96x96.png" /><link rel="icon" type="image/png" sizes="114x114" href="/newts/img/favicon114x114.png" /><link rel="icon" type="image/png" sizes="120x120" href="/newts/img/favicon120x120.png" /><link rel="icon" type="image/png" sizes="128x128" href="/newts/img/favicon128x128.png" /><link rel="icon" type="image/png" sizes="144x144" href="/newts/img/favicon144x144.png" /><link rel="icon" type="image/png" sizes="150x150" href="/newts/img/favicon150x150.png" /><link rel="icon" type="image/png" sizes="152x152" href="/newts/img/favicon152x152.png" /><link rel="icon" type="image/png" sizes="196x196" href="/newts/img/favicon196x196.png" /><link rel="icon" type="image/png" sizes="310x310" href="/newts/img/favicon310x310.png" /><link rel="icon" type="image/png" sizes="310x150" href="/newts/img/favicon310x150.png" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" /><link rel="stylesheet" href="/newts/highlight/styles/atom-one-light.css" /><link rel="stylesheet" href="/newts/css/style.css" /><link rel="stylesheet" href="/newts/css/palette.css" /><link rel="stylesheet" href="/newts/css/codemirror.css" /></head><body><header id="site-header"><div class="navbar-wrapper"><div class="container"><div class="row"><div class="col-xs-6"><a href="/newts/" class="brand"><div class="icon-wrapper"><span>newts</span></div></a></div><div class="col-xs-6"><nav class="text-right"><ul class=""><li><a href="https://github.com/julien-truffaut/newts"><i class="fa fa-github"></i><span class="hidden-xs">GitHub</span></a></li><li><a href="/newts/api"><i class="fa fa-file-text"></i><span class="hidden-xs">Documentation</span></a></li></ul></nav></div></div></div></div><div class="jumbotron"><div class="container"><h1 class="text-center">Newtypes for cats</h1><h2></h2><p class="text-center"><a href="https://github.com/julien-truffaut/newts" class="btn btn-outline-inverse">View on GitHub</a></p></div></div><div><ul class="horizontalNav">     <li><a class=" active " href="/newts/">Home</a></li>  <li><a class="" href="/newts/benchmarks.html">Benchmarks</a></li> </ul></div></header><main id="site-main"><section class="use"><div class="container"><div id="content"><p><a href="https://travis-ci.org/julien-truffaut/newts"><img src="https://travis-ci.org/julien-truffaut/newts.svg?branch=master" alt="Build Status" /></a>
<a href="http://search.maven.org/#search|ga|1|com.github.julien-truffaut.newts"><img src="https://img.shields.io/maven-central/v/com.github.julien-truffaut/newts_2.12.svg" alt="Maven Central" /></a></p>

<p>Newts defines newtypes compatible with <a href="https://github.com/typelevel/cats">cats</a> typeclasses.</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">libraryDependencies</span> <span class="o">++=</span> <span class="nc">Seq</span><span class="o">(</span>
  <span class="s">"com.github.julien-truffaut"</span> <span class="o">%%</span>  <span class="s">"newts-core"</span>  <span class="o">%</span> <span class="s">"0.3.2"</span>
<span class="o">)</span>
</code></pre></div></div>

<h2 id="example">Example</h2>

<p>Using <code class="highlighter-rouge">cats</code> you can squash values using <code class="highlighter-rouge">Monoid</code> or <code class="highlighter-rouge">Semigroup</code> instance (based on if your data structure can be empty):</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">cats.data.NonEmptyList</span>
<span class="k">import</span> <span class="nn">cats.instances.all._</span>
<span class="k">import</span> <span class="nn">cats.syntax.all._</span>

<span class="k">val</span> <span class="n">ints</span>    <span class="k">=</span> <span class="mf">1.</span><span class="n">to</span><span class="o">(</span><span class="mi">100</span><span class="o">).</span><span class="n">toList</span>
<span class="k">val</span> <span class="n">intNel</span>  <span class="k">=</span> <span class="nc">NonEmptyList</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mf">2.</span><span class="n">to</span><span class="o">(</span><span class="mi">100</span><span class="o">).</span><span class="n">toList</span><span class="o">)</span>
<span class="k">val</span> <span class="n">strings</span> <span class="k">=</span> <span class="nc">List</span><span class="o">(</span><span class="s">"abc"</span><span class="o">,</span> <span class="s">"cde"</span><span class="o">,</span> <span class="s">"fgh"</span><span class="o">)</span>
</code></pre></div></div>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">scala</span><span class="o">&gt;</span> <span class="n">ints</span><span class="o">.</span><span class="n">combineAll</span>
<span class="n">res0</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">5050</span>

<span class="n">scala</span><span class="o">&gt;</span> <span class="n">intNel</span><span class="o">.</span><span class="n">reduce</span>
<span class="n">res1</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">5050</span>

<span class="n">scala</span><span class="o">&gt;</span> <span class="n">strings</span><span class="o">.</span><span class="n">combineAll</span>
<span class="n">res2</span><span class="k">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="n">abccdefgh</span>
</code></pre></div></div>

<p>However, some types have more than one valid instance of a typeclass, e.g. <code class="highlighter-rouge">(+, 0)</code> and <code class="highlighter-rouge">(*, 1)</code> are two
completely valid <code class="highlighter-rouge">Monoid</code>. A solution to this problem is to chose one instance somehow arbitrarily and create a wrapper 
type for each other implementation. This pattern is called newtype and it comes from the haskell language.</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">cats.Monoid</span>

<span class="k">implicit</span> <span class="k">val</span> <span class="n">longMonoid</span><span class="k">:</span> <span class="kt">Monoid</span><span class="o">[</span><span class="kt">Long</span><span class="o">]</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">Monoid</span><span class="o">[</span><span class="kt">Long</span><span class="o">]</span> <span class="o">{</span>
  <span class="k">def</span> <span class="n">empty</span><span class="k">:</span> <span class="kt">Long</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="k">def</span> <span class="n">combine</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Long</span><span class="o">,</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Long</span><span class="o">)</span><span class="k">:</span> <span class="kt">Long</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="o">}</span>

<span class="k">case</span> <span class="k">class</span> <span class="nc">Mult</span><span class="o">(</span><span class="n">value</span><span class="k">:</span> <span class="kt">Long</span><span class="o">)</span>

<span class="k">implicit</span> <span class="k">val</span> <span class="n">longMult</span><span class="k">:</span> <span class="kt">Monoid</span><span class="o">[</span><span class="kt">Mult</span><span class="o">]</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">Monoid</span><span class="o">[</span><span class="kt">Mult</span><span class="o">]</span> <span class="o">{</span>
  <span class="k">def</span> <span class="n">empty</span><span class="k">:</span> <span class="kt">Mult</span> <span class="o">=</span> <span class="nc">Mult</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>
  <span class="k">def</span> <span class="n">combine</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Mult</span><span class="o">,</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Mult</span><span class="o">)</span><span class="k">:</span> <span class="kt">Mult</span> <span class="o">=</span> <span class="nc">Mult</span><span class="o">(</span><span class="n">x</span><span class="o">.</span><span class="n">value</span> <span class="o">*</span> <span class="n">y</span><span class="o">.</span><span class="n">value</span><span class="o">)</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Here are a few examples of newtypes define in <code class="highlighter-rouge">newts</code>:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">newts._</span>
</code></pre></div></div>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">scala</span><span class="o">&gt;</span> <span class="n">ints</span><span class="o">.</span><span class="n">foldMap</span><span class="o">(</span><span class="n">i</span> <span class="k">=&gt;</span> <span class="nc">LastOption</span><span class="o">(</span><span class="nc">Some</span><span class="o">(</span><span class="n">i</span><span class="o">)))</span>
<span class="n">res3</span><span class="k">:</span> <span class="kt">newts.LastOption</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="nc">LastOption</span><span class="o">(</span><span class="nc">Some</span><span class="o">(</span><span class="mi">100</span><span class="o">))</span>

<span class="n">scala</span><span class="o">&gt;</span> <span class="n">intNel</span><span class="o">.</span><span class="n">reduceMap</span><span class="o">(</span><span class="nc">First</span><span class="o">(</span><span class="k">_</span><span class="o">))</span>
<span class="n">res4</span><span class="k">:</span> <span class="kt">newts.First</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="nc">First</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>

<span class="n">scala</span><span class="o">&gt;</span> <span class="n">intNel</span><span class="o">.</span><span class="n">reduceMap</span><span class="o">(</span><span class="nc">Min</span><span class="o">(</span><span class="k">_</span><span class="o">))</span>
<span class="n">res5</span><span class="k">:</span> <span class="kt">newts.Min</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Min</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>

<span class="n">scala</span><span class="o">&gt;</span> <span class="n">intNel</span><span class="o">.</span><span class="n">reduceMap</span><span class="o">(</span><span class="nc">Max</span><span class="o">(</span><span class="k">_</span><span class="o">))</span>
<span class="n">res6</span><span class="k">:</span> <span class="kt">newts.Max</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Max</span><span class="o">(</span><span class="mi">100</span><span class="o">)</span>

<span class="n">scala</span><span class="o">&gt;</span> <span class="n">strings</span><span class="o">.</span><span class="n">foldMap</span><span class="o">(</span><span class="nc">Dual</span><span class="o">(</span><span class="k">_</span><span class="o">))</span>
<span class="n">res7</span><span class="k">:</span> <span class="kt">newts.Dual</span><span class="o">[</span><span class="kt">String</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Dual</span><span class="o">(</span><span class="n">fghcdeabc</span><span class="o">)</span>
</code></pre></div></div>

<p>Instead of using newtype constructors, one can use <code class="highlighter-rouge">newts.syntax</code>:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">newts.syntax.all._</span>
<span class="k">import</span> <span class="nn">cats.syntax.all._</span>
</code></pre></div></div>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">scala</span><span class="o">&gt;</span> <span class="n">strings</span><span class="o">.</span><span class="n">foldMap</span><span class="o">(</span><span class="k">_</span><span class="o">.</span><span class="n">asDual</span><span class="o">)</span>
<span class="n">res8</span><span class="k">:</span> <span class="kt">newts.Dual</span><span class="o">[</span><span class="kt">String</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Dual</span><span class="o">(</span><span class="n">fghcdeabc</span><span class="o">)</span>

<span class="n">scala</span><span class="o">&gt;</span> <span class="n">ints</span><span class="o">.</span><span class="n">foldMap</span><span class="o">(</span><span class="k">_</span><span class="o">.</span><span class="n">some</span><span class="o">.</span><span class="n">asLastOption</span><span class="o">)</span>
<span class="n">res9</span><span class="k">:</span> <span class="kt">newts.LastOption</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="nc">LastOption</span><span class="o">(</span><span class="nc">Some</span><span class="o">(</span><span class="mi">100</span><span class="o">))</span>
</code></pre></div></div>

<h2 id="maintainers-and-contributors">Maintainers and contributors</h2>

<p>The current maintainers (people who can merge pull requests) are:</p>

<ul>
  <li>Julien Truffaut - <a href="https://github.com/julien-truffaut">@julien-truffaut</a></li>
</ul>

<p>and the <a href="https://github.com/julien-truffaut/newts/graphs/contributors">contributors</a> (people who committed to newts).</p>

<h2 id="copyright-and-license">Copyright and license</h2>

<p>Newts is licensed under the <strong>[Apache License, Version 2.0][http://www.apache.org/licenses/LICENSE-2.0]</strong> (the
“License”); you may not use this software except in compliance with the License.</p>

<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an “AS IS” BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p>
</div></div></section><section class="technologies"><div class="container"><div class="row"></div></div></section></main><footer id="site-footer"><div class="container"><div class="row"><div class="col-xs-6"><p>newts is designed and developed by <a href="https://github.com/julien-truffaut/newts" target="_blank">com.github.julien-truffaut</a></p></div><div class="col-xs-6"><p class="text-right"><a href="https://github.com/julien-truffaut/newts"><span class="fa fa-github"></span>View on GitHub</a></p></div></div><div class="row"><div class="col-xs-6"><p>Website built with <a href="https://47deg.github.io/sbt-microsites/" target="_blank">Sbt-microsites</a> - © 2016 <a href="https://www.47deg.com/" target="_blank">47 Degrees</a></p></div></div></div></footer><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script><script src="/newts/highlight/highlight.pack.js"></script><script>hljs.configure({
languages:['scala','java','bash']
});
hljs.initHighlighting();
             </script><script>((window.gitter = {}).chat = {}).options = {
room: 'julien-truffaut/newts'};</script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js"></script></body></html>